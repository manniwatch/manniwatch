package trapeze;
syntax = "proto3";

message Departure {
    /**
     * Time in seconds estimated from server time to arrival
     */
    int32 actualRelativeTime = 1;
    /**
     * Time of arrivabl formated HH:mm
     */
    string actualTime = 2;
    string direction = 3;
    string mixedTime = 4;
    string passageId = 5;
    string patternText = 6;
    /**
     * Planned time of arrival
     */
    string plannedTime = 7;
    string routeId = 8;
    /**
     * Current status of the vehicle
     */
    string status = 9;
    string tripId = 10;
    string vehicleId = 11;
}

/**
 * Alerts on route
 */
 message RouteAlert {
    repeated string direction = 1;
    string directionId = 2;
    string title = 3;
}

/**
 * Route of the vehicle
 */
message Route {
    repeated RouteAlert alerts = 1;
    string authority = 2;
    repeated string directions = 3;
    string id = 4;
    string name = 5;
    string routeType = 6;
    // route short name
    string shortName = 7;
}
/**
 * @since 0.5.0
 */
message StopPassage {
    repeated Departure actual = 1;
    repeated string directions = 2;
    int64 firstPassageTime = 3;
    // TODO generalAlerts;
    int64 lastPassageTime = 5;
    repeated Departure old = 6;
    repeated Route routes = 7;
    /**
     * Human readable string of the stop
     */
    string stopName = 8;
    /**
     * short name of the stop
     */
    string stopShortName = 9;
}
